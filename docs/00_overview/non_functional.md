# 非機能要件（Non-functional Requirements）

Status: Draft  
Last Updated: 2026-02-08

## 1) バックアップ／復旧

**方針**

- MVPでは自動バックアップは実装しない
- 手動で **DBダンプ（mysqldump）** を取得できることを前提にする（将来の運用）

**最低限の運用ルール**

- 重要な節目（週末／発表前）に1回ダンプを取る
- ダンプファイルはローカルに保存（例：`docs/backup/`）

※ ダンプファイルはGit管理しない（ローカル保持）

> 発表前は必ずDBダンプを取得して復旧可能にする。

---

## 2) セキュリティ（公開範囲・ファイル構成）

**方針**

- Web公開するのは `public/` のみ
- `src/` や設定ファイルは **DocumentRoot外** に置く（公開しない）
- サーバ設定（ApacheのDocumentRoot）は `public/` を指す前提

> DocumentRootは `public/` のみ。`src/` は外部公開しない。

- エラー表示は本番相当ではOFF（学校環境の方針に合わせる）
- DB接続情報はコードに直書きしない（設定ファイル/環境変数）

---

## 3) データ保持／削除ポリシー

**方針（MVP）**

- **削除機能は実装しない**
- 学習ログは基本的に残す（振り返りが目的のため）

**将来方針（拡張）**

- 必要になったら論理削除（`deleted_at`）を検討
- 物理削除は原則しない（誤削除リスク回避）

> MVPは削除なし。将来は論理削除を検討。

---

## 4) 文字コード／照合順序

**方針**

- MySQLは `utf8mb4` を使用（絵文字・日本語の安全性）
- 照合順序は `utf8mb4_0900_ai_ci`（MySQL 8系の一般的設定）
    
    ※学校DBの既定が別ならそれに合わせる
    

> 文字コードは utf8mb4 を採用する。

---

# 非機能（決定事項まとめ）

- バックアップ：手動DBダンプ（将来運用）
- セキュリティ：publicのみ公開、srcは非公開
- データ保持：削除なし（将来は論理削除）
- 文字コード：utf8mb4